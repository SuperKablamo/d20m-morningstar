<!DOCTYPE HTML>
<html lang="en">
  <head>
  	<title>d20mobile - Morningstar</title>

	  <meta charset="utf-8" />

		<link rel="stylesheet" type="text/css" href="/static/css/styles.css" />
		<link href='http://fonts.googleapis.com/css?family=IM+Fell+English+SC' rel='stylesheet' type='text/css'>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.js"></script>

		<!-- Google Maps API -->
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>		
		<script type="text/javascript"
		    src="http://maps.google.com/maps/api/js?sensor=false">
		</script>
		<script type="text/javascript">
		  function initialize() {
		    var latlng = new google.maps.LatLng(36.14, -115.14);
		 	  var myLatlng = new google.maps.LatLng(36.14,-115.14);
		    var myOptions = {
		      zoom: 12,
		      center: latlng,
		      mapTypeId: google.maps.MapTypeId.ROADMAP
		    };
		    var map = new google.maps.Map(document.getElementById("map_canvas"),
		        myOptions);
				setMonsterPartyMarkers(map, monsters);
				setDeathMarkers(map, players);
				setBattleMarkers(map, battles);
		  }
			var players = {{players}};
			var monsters = {{monsters}};
			var battles = {{battles}};
			function setMonsterPartyMarkers(map, locations) {
			  var image = new google.maps.MarkerImage('/static/images/mark-monster-32x40.png',
        	new google.maps.Size(32.0, 40.0),
        	new google.maps.Point(0, 0),
        	new google.maps.Point(16.0, 20.0));
			  var shadow = new google.maps.MarkerImage('/static/images/shadow-mark-monster-32x40.png',
			      // The shadow image is larger in the horizontal dimension
			      // while the position and offset are the same as for the main image.
		        new google.maps.Size(53.0, 40.0),
		        new google.maps.Point(0, 0),
		        new google.maps.Point(16.0, 20.0));
			      // Shapes define the clickable region of the icon.
			      // The type defines an HTML <area> element 'poly' which
			      // traces out a polygon as a series of X,Y points. The final
			      // coordinate closes the poly by connecting to the first
			      // coordinate.
			  var shape = {
			      coord: [1, 1, 1, 20, 18, 20, 18 , 1],
			      type: 'poly'
			  };

			  for (var i = 0; i < locations.length; i++) {
			    var pin = locations[i];
			    var location = new google.maps.LatLng(pin['lat'], pin['lon']);
			    var marker = new google.maps.Marker({
			        position: location,
			        map: map,
							icon: image,
							shape: shape,
							shadow: shadow,
			        title: pin['name']
			    });
			  }
			}
			function setDeathMarkers(map, locations) {
			  var image = new google.maps.MarkerImage('/static/images/mark-skull-32x40.png',
        	new google.maps.Size(32.0, 40.0),
        	new google.maps.Point(0, 0),
        	new google.maps.Point(16.0, 20.0));
			  var shadow = new google.maps.MarkerImage('/static/images/shadow-mark-skull-32x40.png',
			      // The shadow image is larger in the horizontal dimension
			      // while the position and offset are the same as for the main image.
		        new google.maps.Size(53.0, 40.0),
		        new google.maps.Point(0, 0),
		        new google.maps.Point(16.0, 20.0));
			      // Shapes define the clickable region of the icon.
			      // The type defines an HTML <area> element 'poly' which
			      // traces out a polygon as a series of X,Y points. The final
			      // coordinate closes the poly by connecting to the first
			      // coordinate.
			  var shape = {
			      coord: [1, 1, 1, 20, 18, 20, 18 , 1],
			      type: 'poly'
			  };

			  for (var i = 0; i < locations.length; i++) {
			    var pin = locations[i];
			    var location = new google.maps.LatLng(pin['lat'], pin['lon']);
			    var marker = new google.maps.Marker({
			        position: location,
			        map: map,
							icon: image,
							shape: shape,
							shadow: shadow,
			        title: pin['name']
			    });
			  }
			}	
			function setBattleMarkers(map, locations) {
			  var image = new google.maps.MarkerImage('/static/images/mark-battle-32x48.png',
        	new google.maps.Size(32.0, 40.0),
        	new google.maps.Point(0, 0),
        	new google.maps.Point(16.0, 20.0));
			  var shadow = new google.maps.MarkerImage('/static/images/shadow-mark-battle-32x48.png',
			      // The shadow image is larger in the horizontal dimension
			      // while the position and offset are the same as for the main image.
		        new google.maps.Size(53.0, 40.0),
		        new google.maps.Point(0, 0),
		        new google.maps.Point(16.0, 20.0));
			      // Shapes define the clickable region of the icon.
			      // The type defines an HTML <area> element 'poly' which
			      // traces out a polygon as a series of X,Y points. The final
			      // coordinate closes the poly by connecting to the first
			      // coordinate.
			  var shape = {
			      coord: [1, 1, 1, 20, 18, 20, 18 , 1],
			      type: 'poly'
			  };

			  for (var i = 0; i < locations.length; i++) {
			    var pin = locations[i];
			    var location = new google.maps.LatLng(pin['lat'], pin['lon']);
			    var marker = new google.maps.Marker({
			        position: location,
			        map: map,
							icon: image,
							shape: shape,
							shadow: shadow,
			        title: pin['name']
			    });
			  }
			}	
		</script>
	
  </head> 
  <body onload="initialize()">
		<div id="wrapper">
			<div id="content">
				<header id="header-wrap">
					<div id="logo"></div>
					<div id="title">
						<h1>Morningstar</h1>
						<h2><span class="highlight">L</span>ocation&nbsp;&nbsp;<span class="highlight">A</span>ware&nbsp;&nbsp; <span class="highlight">R</span>ole&nbsp;&nbsp; <span class="highlight">P</span>laying</h2>							
					</div>
					<div id="beta-wrap">
						<div id="beta">
						</div>	
						<div id="android">
							<div id="text-android">
						  	<h2>Powered By</h2>						
							</div>
							<div id="logo-android">
							</div>
						</div>
					</div>
				</header><!-- /main-header -->
				
				<section id="map">
				  <div id="map_canvas"></div>
				</section><!-- /map -->
				
				<div id="columns">
					
					<section id="news">
						<h2>Recent News</h2>
						<article class="update">
							<div class="update-wrap">
								<p>Wulfgar the Sober is questing in Las Vegas, Nevada.</p>
							</div>
						</article>	
						<article class="update">
							<div class="update-wrap">
								<p>Drizzt was killed by a Kobold in Fairfield, Iowa.</p>
							</div>
						</article>
						<article class="update">
							<div class="update-wrap">
								<p>Drizzt is questing in Fairfield, Iowa.</p>
							</div>
						</article>
						<article class="update">
							<div class="update-wrap">
								<p>Drizzt is questing in Fairfield, Iowa.</p>
							</div>
						</article>
						<article class="update">
							<div class="update-wrap">
								<p>Drizzt is questing in Fairfield, Iowa.</p>
							</div>
						</article>
						<article class="update">
							<div class="update-wrap">
								<p>Drizzt is questing in Fairfield, Iowa.</p>
							</div>
						</article>																								
					</section><!-- /news -->
					
					<section id="game-play">
						<div id="summary-wrap">
							<div class="summary">
								<div class="mark">
									<img src="/static/images/mark-monster-58x72.png"/>
								</div>
								<div class="summary-text">
									Monsters are<br/>Everywhere
								</div>		
							</div>	
							<div class="summary">
								<div class="mark">
									<img src="/static/images/mark-skull-58x72.png"/>
								</div>
								<div class="summary-text">
									Try to<br/>Stay Alive
								</div>									
							</div>
							<div class="summary">
								<div class="mark">
									<img src="/static/images/mark-battle-58x72.png"/>
								</div>
								<div class="summary-text">
									Loot and<br/>Level Up
								</div>								
							</div>																
						</div>
					</section><!-- /summary -->
				
				</div><!-- /columns -->	
					
				<footer>
					<div id="footer-wrap">
						<div >
							<p>&copy; 2011 d20 Morningstar. All Rights Reserved.  SuperKablamo, LLC.  Powered by <a href="http://www.android.com/">Android</a> and <a href="http://code.google.com/appengine/">Google App Engine</a>.</p>
							<p class="nav"><a title="About d20 Morningstar" href="/about">About</a>
								&nbsp;&nbsp;|&nbsp;&nbsp;
								<a title="Contact Us" href="/contact">Contact Us</a>
								&nbsp;&nbsp;|&nbsp;&nbsp;								
								<a title="Open Game License" href="/open">Open Game License</a>	
								&nbsp;&nbsp;|&nbsp;&nbsp;								
								<a title="Blog" href="/blog">Blog</a>								
							</p>								
							<p>The Android robot logo is a trademark of Google Inc. Use of this trademark is subject to <a href="http://www.google.com/permissions/index.html">Google Permissions</a>.</p> 
					</div>
				</footer>
			</div><!-- /content -->	
		</div><!-- /wrapper -->
  </body>		
</html>