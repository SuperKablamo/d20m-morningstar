<!DOCTYPE HTML>
<html lang="en">
  <head>
  	<title>d20mobile - Morningstar</title>

	  <meta charset="utf-8" />

		<link rel="stylesheet" type="text/css" href="/static/css/styles.css" />
		<link href='http://fonts.googleapis.com/css?family=IM+Fell+English+SC' rel='stylesheet' type='text/css'>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.js"></script>

		<!-- Google Maps API -->
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>		
		<style type="text/css">
		  html { height: 100% }
		  body { height: 100%; margin: 0px; padding: 0px }
		  #map_canvas { height: 100% }
		</style>
		<script type="text/javascript"
		    src="http://maps.google.com/maps/api/js?sensor=false">
		</script>
		<script type="text/javascript">
		  function initialize() {
		    var latlng = new google.maps.LatLng(36.14, -115.14);
		 	  var myLatlng = new google.maps.LatLng(36.14,-115.14);
		    var myOptions = {
		      zoom: 12,
		      center: latlng,
		      mapTypeId: google.maps.MapTypeId.ROADMAP
		    };
		    var map = new google.maps.Map(document.getElementById("map_canvas"),
		        myOptions);
				setMonsterPartyMarkers(map, monsters);
				setPlayerPartyMarkers(map, players);
				setBattleMarkers(map, battles);
		  }
			var players = {{players}};
			var monsters = {{monsters}};
			var battles = {{battles}};
			function setMonsterPartyMarkers(map, locations) {
			  var image = new google.maps.MarkerImage('/static/images/pin-monster-party.png',
			      new google.maps.Size(32, 32),
			      new google.maps.Point(0,0),
			      new google.maps.Point(16, 32));
			  var shadow = new google.maps.MarkerImage('/static/images/pin-shadow.png',
			      // The shadow image is larger in the horizontal dimension
			      // while the position and offset are the same as for the main image.
			      new google.maps.Size(32, 32),
			      new google.maps.Point(0,0),
			      new google.maps.Point(-2,32));
			      // Shapes define the clickable region of the icon.
			      // The type defines an HTML <area> element 'poly' which
			      // traces out a polygon as a series of X,Y points. The final
			      // coordinate closes the poly by connecting to the first
			      // coordinate.
			  var shape = {
			      coord: [1, 1, 1, 20, 18, 20, 18 , 1],
			      type: 'poly'
			  };

			  for (var i = 0; i < locations.length; i++) {
			    var pin = locations[i];
			    var location = new google.maps.LatLng(pin['lat'], pin['lon']);
			    var marker = new google.maps.Marker({
			        position: location,
			        map: map,
							icon: image,
							shape: shape,
							shadow: shadow,
			        title: pin['name']
			    });
			  }
			}
			function setPlayerPartyMarkers(map, locations) {
			  var image = new google.maps.MarkerImage('/static/images/pin-death.png',
			      new google.maps.Size(32, 32),
			      new google.maps.Point(0,0),
			      new google.maps.Point(16, 32));
			  var shadow = new google.maps.MarkerImage('/static/images/pin-shadow.png',
			      // The shadow image is larger in the horizontal dimension
			      // while the position and offset are the same as for the main image.
			      new google.maps.Size(32, 32),
			      new google.maps.Point(0,0),
			      new google.maps.Point(2,32));
			      // Shapes define the clickable region of the icon.
			      // The type defines an HTML <area> element 'poly' which
			      // traces out a polygon as a series of X,Y points. The final
			      // coordinate closes the poly by connecting to the first
			      // coordinate.
			  var shape = {
			      coord: [1, 1, 1, 20, 18, 20, 18 , 1],
			      type: 'poly'
			  };

			  for (var i = 0; i < locations.length; i++) {
			    var pin = locations[i];
			    var location = new google.maps.LatLng(pin['lat'], pin['lon']);
			    var marker = new google.maps.Marker({
			        position: location,
			        map: map,
							icon: image,
							shape: shape,
							shadow: shadow,
			        title: pin['name']
			    });
			  }
			}	
			function setBattleMarkers(map, locations) {
			  var image = new google.maps.MarkerImage('/static/images/pin-battle.png',
			      new google.maps.Size(35, 44),
			      new google.maps.Point(0,0),
			      new google.maps.Point(17, 44));
			  var shadow = new google.maps.MarkerImage('/static/images/pin-shadow-square.png',
			      // The shadow image is larger in the horizontal dimension
			      // while the position and offset are the same as for the main image.
			      new google.maps.Size(46, 28),
			      new google.maps.Point(0,0),
			      new google.maps.Point(0,28));
			      // Shapes define the clickable region of the icon.
			      // The type defines an HTML <area> element 'poly' which
			      // traces out a polygon as a series of X,Y points. The final
			      // coordinate closes the poly by connecting to the first
			      // coordinate.
			  var shape = {
			      coord: [1, 1, 1, 20, 18, 20, 18 , 1],
			      type: 'poly'
			  };

			  for (var i = 0; i < locations.length; i++) {
			    var pin = locations[i];
			    var location = new google.maps.LatLng(pin['lat'], pin['lon']);
			    var marker = new google.maps.Marker({
			        position: location,
			        map: map,
							icon: image,
							shape: shape,
							shadow: shadow,
			        title: pin['name']
			    });
			  }
			}	
		</script>
	
  </head> 
  <body onload="initialize()">
		<div id="wrapper">
			<div id="content">
				<header id="header-wrap">
					<div id="logo"></div>
					<div id="title">
						<h1>Morningstar</h1>
						<h2>Location&nbsp;&nbsp;Aware&nbsp;&nbsp; Role&nbsp;&nbsp; Playing</h2>							
					</div>
					<aside id="android">
						<div id="text-android">
						  <h2>Powered By</h2>						
						</div>
						<div id="logo-android">
						</div>
					</aside>
				</header><!-- /main-header -->
				
				<section id="map">
				  <div id="map_canvas" style="width:800px; height:400px"></div>
				</section><!-- /map -->
				
				<div id="columns">
					
					<section id="news">
						<article>
						</article>	
					</section><!-- /news -->
					
					<section id="sign-up">
					</section><!-- /sign-up -->
				
				</div><!-- /columns -->	
					
				<footer>
					"Android is a trademark of Google Inc. Use of this trademark is subject to <a href="http://www.google.com/permissions/index.html">Google Permissions</a>." 
				</footer>
			</div><!-- /content -->	
		</div><!-- /wrapper -->
  </body>		
</html>